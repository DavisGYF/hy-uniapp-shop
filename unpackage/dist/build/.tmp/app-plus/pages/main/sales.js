(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/main/sales"],{"4dee":function(t,a,e){"use strict";e.r(a);var i=e("cf59"),s=e("a6e2");for(var n in s)"default"!==n&&function(t){e.d(a,t,function(){return s[t]})}(n);e("f029");var o=e("2877"),l=Object(o["a"])(s["default"],i["a"],i["b"],!1,null,"6b0c92d0",null);a["default"]=l.exports},"5cc9":function(t,a,e){},"5d19":function(t,a,e){"use strict";e("7297");var i=n(e("b0ce")),s=n(e("4dee"));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(s.default))},a6e2:function(t,a,e){"use strict";e.r(a);var i=e("b13f"),s=e.n(i);for(var n in i)"default"!==n&&function(t){e.d(a,t,function(){return i[t]})}(n);a["default"]=s.a},b13f:function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=s(e("3097"));function s(t){return t&&t.__esModule?t:{default:t}}e("7389");var n={components:{uniPopup:i.default},data:function(){return{list_data:[],list_data_total:0,loadMoreText:"加载中...",showLoadMore:!1,pageN:0,showPopupMiddle:!1,select_index:"",title:"优惠活动",array:["4563511100118511888","6222511100118511888"],index:0}},onShow:function(){console.log("onshow"),this.getData()},onNavigationBarButtonTap:function(a){t.navigateTo({url:"./sales_add"})},onReachBottom:function(){var t=this;console.log("onReachBottom"),this.list_data.length>=this.list_data_total?this.loadMoreText="没有更多数据了!":(this.showLoadMore=!0,setTimeout(function(){t.setDate()},1e3))},onPullDownRefresh:function(){console.log("onPullDownRefresh"),this.getData(),this.loadMoreText="加载中..."},methods:{hideFn:function(){this.showPopupMiddle=!1},getData:function(){var a=this;this.pageN=0,this.list_data=[],this.pageN+=1,this.$util.ajax_uni({url:"merchants/Activity/sellerActivity",data:{ff_openid:t.getStorageSync("user_id"),page:this.pageN,page_size:10},success:function(e){console.log("返回数据状态res:",e),t.stopPullDownRefresh(),1==e.data.status?(a.list_data=a.list_data.concat(e.data.data.data),a.list_data_total=e.data.data.sum,console.log("listdata:",a.list_data)):console.log("ceeee",JSON.stringify(e.data.data))},error:function(t){console.log("错误res:",t)}})},setDate:function(){var a=this;this.pageN+=1,console.log("pageN",this.pageN),this.$util.ajax_uni({url:"merchants/Activity/sellerActivity",data:{ff_openid:t.getStorageSync("user_id"),page:this.pageN,page_size:10},success:function(e){console.log("返回数据状态res:",e),1==e.data.status?(a.list_data=a.list_data.concat(e.data.data.data),a.list_data_total=e.data.data.sum,t.stopPullDownRefresh(),console.log("listdata:",a.list_data)):console.log("ceeee",JSON.stringify(e.data))},error:function(t){console.log("错误res:",t)}})},toFn:function(){t.navigateTo({url:"./sales_add"})},longTapFn:function(t){console.log("xuanzhong==id",t.activity_id),this.select_index=t.activity_id,this.showPopupMiddle=!0},deleteFn:function(){var a=this;console.log("shanchu id=====",this.select_index),this.$util.ajax_uni({url:"merchants/Activity/delActivity",data:{activity_id:this.select_index},success:function(e){console.log("返回数据状态res:",e),1==e.data.status?a.getData():(console.log("status不为1",JSON.stringify(e.data)),t.showToast({icon:"none",title:e.data.msg}))}}),this.showPopupMiddle=!1},switch1Change:function(a){var e=this;console.log("switch1 发生 change 事件，携带值为",a.activity_id),this.$util.ajax_uni({url:"merchants/Activity/switchActivity",data:{activity_id:a.activity_id,is_open:"Y"==a.is_open?"N":"Y"},success:function(a){console.log("返回数据状态res:",a),1==a.data.status||(console.log("status不为1",JSON.stringify(a.data)),t.showToast({icon:"none",title:a.data.msg})),e.getData()},error:function(t){console.log("错误res:",t)}})},bindPickerChange:function(t){console.log("picker发送选择改变，携带值为",t.target.value),this.index=t.target.value}}};a.default=n}).call(this,e("649d")["default"])},cf59:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("view",{staticClass:"content"},[0==t.list_data.length?e("view",{staticClass:"uni-list",staticStyle:{"text-align":"center","padding-top":"100rpx"}},[t._v("暂无记录")]):t._e(),0!=t.list_data.length?e("view",{staticClass:"uni-list"},[t._l(t.list_data,function(a,i){return e("view",{key:i,staticClass:"uni-list-cell",staticStyle:{padding:"14rpx 36rpx"},attrs:{eventid:"18f08d6b-2-"+i},on:{longpress:function(e){t.longTapFn(a)}}},[e("view",{staticClass:"uni-title",staticStyle:{"font-size":"32rpx"}},[e("view",[t._v(t._s(a.activity_name))])]),"Y"==a.is_open?e("switch",{staticClass:"uni_switch",attrs:{checked:"",eventid:"18f08d6b-0-"+i},on:{change:function(e){t.switch1Change(a)}}}):t._e(),"N"==a.is_open?e("switch",{staticClass:"uni_switch",attrs:{eventid:"18f08d6b-1-"+i},on:{change:function(e){t.switch1Change(a)}}}):t._e()])}),t.showLoadMore?e("view",{staticClass:"uni-loadmore"},[t._v(t._s(t.loadMoreText))]):t._e()],2):t._e(),e("uni-popup",{staticClass:"pop",attrs:{show:t.showPopupMiddle,type:"bottom",eventid:"18f08d6b-4",mpcomid:"18f08d6b-0"},on:{hidePopup:t.hideFn}},[e("button",{staticClass:"pop_button",attrs:{type:"warn",eventid:"18f08d6b-3"},on:{tap:t.deleteFn}},[t._v("删除")])],1)],1)},s=[];e.d(a,"a",function(){return i}),e.d(a,"b",function(){return s})},f029:function(t,a,e){"use strict";var i=e("5cc9"),s=e.n(i);s.a}},[["5d19","common/runtime","common/vendor"]]]);