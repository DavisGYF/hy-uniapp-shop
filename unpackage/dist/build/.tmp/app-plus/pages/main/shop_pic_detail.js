(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/main/shop_pic_detail"],{"065c":function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var o=n(e("3097"));function n(t){return t&&t.__esModule?t:{default:t}}var s={components:{uniPopup:o.default},data:function(){return{pre_item:{},img_lists:[],album_id:"",showPopupMiddle:!1,select_index:"",select_item:"",right_icon_url:"./shop_pic_detail_add"}},onShow:function(){console.log("onshow"),this.getData()},onLoad:function(t){this.album_id=JSON.parse(t.data).id,this.right_icon_url="./shop_pic_detail_add?data="+JSON.parse(t.data).id},onPullDownRefresh:function(){this.loadData("refresh"),setTimeout(function(){t.stopPullDownRefresh()},2e3)},onReachBottom:function(){},onNavigationBarButtonTap:function(i){console.log("333",i),t.navigateTo({url:"./shop_pic_detail_add"})},methods:{getData:function(){var i=this;this.$util.ajax_uni({url:"merchants/Adimg/selPicture",data:{img_id:this.album_id},success:function(e){console.log("返回相pian-----s:",JSON.stringify(e)),1==e.data.status?i.img_lists=e.data.data:(console.log("ceeee",JSON.stringify(e.data)),t.showToast({icon:"none",title:e.data.msg}))},error:function(t){console.log("错误res:",t)}})},toFn:function(){t.navigateTo({url:"./shop_pic_detail_add"})},hidePopup:function(){console.log("关闭"),this.showPopupMiddle=!1},deleteFn:function(){var t=this;console.log("shanchu ----id",t.select_item),this.$util.ajax_uni({url:"merchants/Adimg/delPicture",data:{id:t.select_item.id},success:function(i){console.log("返回-----态res:",i),1==i.data.status?t.getData():console.log("ceeee",JSON.stringify(i.data))},error:function(t){console.log("错误res:",t)}}),this.showPopupMiddle=!1},longTapFn:function(t,i){console.log("item id----",t.id),this.select_index=i,this.select_item=t,this.showPopupMiddle=!0},downloadFn:function(){var i=this,e=this;console.log("this.img_listsid----",this.img_lists,this.select_index),t.downloadFile({url:e.img_lists[e.select_index].img_url,success:function(e){i.showPopupMiddle=!1,t.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:function(){t.showToast({icon:"none",title:"已保存到手机相册"})},fail:function(){t.showToast({icon:"none",title:"保存到手机相册失败"})}})},fail:function(i){t.showModal({content:"下载失败，"+i.errMsg,showCancel:!1})}})},preImg:function(i){var e=this;console.log(i,"------",this.img_lists[i].img_url,JSON.stringify(this.img_lists));var o=[],n=!0,s=!1,a=void 0;try{for(var l,u=this.img_lists[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var c=l.value;o.push(c.img_url)}}catch(r){s=!0,a=r}finally{try{n||null==u.return||u.return()}finally{if(s)throw a}}this.imgShow||(this.imgShow=!0,setTimeout(function(){e.imgShow=!1},1e3),setTimeout(function(){t.previewImage({current:e.img_lists[i].img_url,urls:o})},150))}}};i.default=s}).call(this,e("649d")["default"])},"0697":function(t,i,e){"use strict";var o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("view",{staticClass:"content"},[e("page-head",{attrs:{title:"店铺相册详情",right_icon:"plusempty",right_icon_url:t.right_icon_url,mpcomid:"8f0b99a4-0"}}),e("view",{staticClass:"uni-product-list",staticStyle:{"margin-top":"140rpx"}},t._l(t.img_lists,function(i,o){return e("view",{key:o,staticClass:"uni-product",attrs:{eventid:"8f0b99a4-0-"+o},on:{tap:function(i){t.preImg(o)},longpress:function(e){t.longTapFn(i,o)}}},[e("view",{staticClass:"image-view"},[e("image",{staticClass:"uni-product-image",attrs:{mode:"aspectFill",src:i.img_url}})]),e("view",{staticClass:"uni-product-title"},[t._v(t._s(i.describe))])])})),e("uni-popup",{staticClass:"pop",attrs:{show:t.showPopupMiddle,type:"bottom",eventid:"8f0b99a4-3",mpcomid:"8f0b99a4-1"},on:{hidePopup:t.hidePopup}},[e("button",{staticClass:"pop_button",attrs:{type:"warn",eventid:"8f0b99a4-1"},on:{tap:t.deleteFn}},[t._v("删除当前照片")]),e("button",{staticClass:"pop_button",attrs:{type:"primary",eventid:"8f0b99a4-2"},on:{tap:t.downloadFn}},[t._v("下载当前照片")])],1)],1)},n=[];e.d(i,"a",function(){return o}),e.d(i,"b",function(){return n})},"1aed":function(t,i,e){"use strict";e.r(i);var o=e("0697"),n=e("38fb");for(var s in n)"default"!==s&&function(t){e.d(i,t,function(){return n[t]})}(s);e("565c");var a=e("2877"),l=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,"29ced80a",null);i["default"]=l.exports},"38fb":function(t,i,e){"use strict";e.r(i);var o=e("065c"),n=e.n(o);for(var s in o)"default"!==s&&function(t){e.d(i,t,function(){return o[t]})}(s);i["default"]=n.a},"48c4":function(t,i,e){"use strict";e("7297");var o=s(e("b0ce")),n=s(e("1aed"));function s(t){return t&&t.__esModule?t:{default:t}}Page((0,o.default)(n.default))},"565c":function(t,i,e){"use strict";var o=e("7c6c"),n=e.n(o);n.a},"7c6c":function(t,i,e){}},[["48c4","common/runtime","common/vendor"]]]);